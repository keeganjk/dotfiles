#!/bin/sh

[[ -z "$EDITOR" ]] && EDITOR="nvim"
SRC_DIR="~/.local/src"
mkdir -p ~/.local/bin ~/.local/src ~/.local/share ~/.config $SRC_DIR

source ./programs

aur_handler() {
    cd /tmp
    pwd
    git clone "$i" && cd "$i"
    
}

git_handler() {
    echo "$i"
}

sed '/\[multilib\]/{$!N;s,#,,g}' <<<"#[multilib]
#Include = /etc/pacman.d/mirrorlist" /etc/pacman.conf # Understand this; I must not use code of which I do not understand the purpose

# /\[multilib\]/{  # match multilib
#   $!{       # (!)not the ($)last line
#     N       # append the next line
#     s/#//g  # remove all "#"s. 
#   }
# }

pacman -Syu
pacman -S --needed "$DISTRO_REPO"

for i in $AUR; do
    aur_handler "$i"
done
